# Onboarding Form to Content Editor Mapping

This document provides a detailed mapping between the fields in the onboarding form and the corresponding fields in the SelfCast Dynamic content editor. Use this as a reference when implementing the integration between these systems.

## Table of Contents
- [Field Mapping Overview](#field-mapping-overview)
- [Personal Information Mapping](#personal-information-mapping)
- [Professional Background Mapping](#professional-background-mapping)
- [Visual Branding Mapping](#visual-branding-mapping)
- [Social Media Mapping](#social-media-mapping)
- [Content Guidance Fields](#content-guidance-fields)
- [Project ID Generation](#project-id-generation)
- [Implementation Steps](#implementation-steps)

## Field Mapping Overview

This table shows the direct mapping between onboarding form fields and content editor fields:

| Onboarding Form Field | Content Editor Field | Database Key |
|-----------------------|----------------------|--------------|
| `fullName` | Main title | `rendered_title` |
| `title` (professional title) | Subtitle/Tagline | `rendered_subtitle` |
| `email` | Contact email | `email_address` |
| `phone` | Contact phone | `phone_number` |
| `instagram` | Instagram URL | `instagram_url` |
| `facebook` | Facebook URL | `facebook_url` |
| `twitter` | Twitter URL | `twitter_url` |
| `linkedin` | LinkedIn URL | `linkedin_url` |
| `colorPreference` | Style package | `style_package` |
| `profession` + other fields | Bio content | `rendered_bio_html` |

## Personal Information Mapping

### Form to Editor Field Mapping

```javascript
// Example mapping code
const personalInfoMapping = {
  fullName: 'rendered_title',
  title: 'rendered_subtitle',
  email: 'email_address',
  phone: 'phone_number'
};
```

### Bio Content Generation

The main bio content (`rendered_bio_html`) will be generated by combining several fields from the onboarding form:

```javascript
// Example bio generation
function generateBio(formData) {
  return `
    <p>${formData.fullName} is a ${formData.title} specializing in ${formData.profession}.</p>
    <p>Areas of expertise include: ${formData.comfortableTopics}</p>
    <p>Contact at: ${formData.email}</p>
  `;
}
```

## Professional Background Mapping

The professional background information will be used to populate the bio cards:

| Onboarding Form Field | Content Editor Field | Purpose |
|-----------------------|----------------------|---------|
| `profession` | Part of `rendered_bio_html` | Main bio content |
| `comfortableTopics` | `rendered_bio_html_card_1` | Mind card content |
| `successDefinition` | `rendered_bio_html_card_2` | Body card content |
| `contentGoals` | `rendered_bio_html_card_3` | Soul card content |

## Visual Branding Mapping

The color preference selection maps to the style package as follows:

| Color Selection | Style Package Value |
|-----------------|---------------------|
| Blue | `standard-professional` |
| Navy | `dark-professional` |
| Gold | `light-professional` |
| Green | `green-professional` |
| Red | `red-professional` |

```javascript
// Example color mapping
const colorToStylePackage = {
  blue: 'standard-professional',
  navy: 'dark-professional',
  gold: 'light-professional',
  green: 'green-professional',
  red: 'red-professional'
};
```

## Social Media Mapping

Social media profiles are mapped directly:

```javascript
// Example social media mapping
const socialMediaMapping = {
  instagram: 'instagram_url',
  facebook: 'facebook_url',
  twitter: 'twitter_url',
  linkedin: 'linkedin_url'
};

// Social media titles can be set with defaults
const socialMediaTitles = {
  instagram_title: 'Instagram',
  facebook_title: 'Facebook',
  twitter_title: 'Twitter',
  linkedin_title: 'LinkedIn'
};
```

## Content Guidance Fields

These fields don't map directly to content editor fields but provide guidance for content creation:

| Onboarding Form Field | Purpose |
|-----------------------|---------|
| `avoidTopics` | Topics to avoid in content |
| `writingStyle` | Preferred writing style |
| `existingContent` | Reference material |
| `pastExperience` | Background information |
| `challenges` | Pain points to address |

## Project ID Generation

The unique project ID will be generated using the following format:
```
lastname-firstname-XXXX
```

Where:
- `lastname` is the client's last name (lowercase)
- `firstname` is the client's first name (lowercase)
- `XXXX` is a random 4-digit number

Example: `smith-john-1234`

```javascript
// Example project ID generation
function generateProjectId(fullName) {
  const nameParts = fullName.toLowerCase().split(' ');
  const firstName = nameParts[0];
  const lastName = nameParts[nameParts.length - 1];
  const randomNum = Math.floor(1000 + Math.random() * 9000);
  
  return `${lastName}-${firstName}-${randomNum}`;
}
```

## Implementation Steps

1. **Form Submission Handler**:
   - Process the onboarding form data
   - Generate the project ID
   - Map form fields to content editor fields using this document
   - Insert data into Supabase using the content editor field names

2. **Database Structure**:
   ```
   Table: dynamic_content
   - project_id (primary key/foreign key)
   - key (field name from content editor)
   - value (content from form)
   ```

3. **API Endpoint**:
   - Create an API endpoint to handle form submission
   - Connect to Supabase to store the data
   - Return the project ID for reference

4. **Admin Dashboard**:
   - Create a view that shows all client projects
   - Include links to open each project in the content editor
   - Display key information from the onboarding form
